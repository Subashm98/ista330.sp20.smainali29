<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pages</title>
</head>
<body onload="fetchData()">
    <H1 id="theme"></H1>
    <div id="imageDiv">
        <img  id="themeImage" src="" alt="themeImge" height="50%" width="60%">
    </div>


    <script>
        function fetchData(){
            const queryString = window.location.search;
            let indx = queryString.indexOf("=");
            let url = `http://localhost:3001/pages/${queryString[indx+1]}/image/${queryString[indx+1]}`;
           // console.log(url);
            fetch(url)
                .then((response) => { return response.json();})
                .then((json) => update(json));
        }

        function update(json){
            let theme = json.theme;
            let path = `../Data/${theme}.png`;
            let title = document.getElementById("theme");
            let imgSrc = document.getElementById("themeImage");
            title.innerHTML = theme;
            imgSrc.src = path;
        

        }
    
    </script>
    
</body>
</html>